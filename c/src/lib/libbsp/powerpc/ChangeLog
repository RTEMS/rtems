2011-10-07	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/startup/bspstart.c: Comment out unused vars.
	* shared/console/console.c: Remove stray local decl of "close".

2011-08-31	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/startup/linkcmds.base: New file.

2011-08-24	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/bootloader/exception.S, shared/bootloader/misc.c,
	shared/bootloader/mm.c, shared/console/polled_io.c,
	shared/startup/probeMemEnd.c: Update due to API changes.

2011-07-27  Till Straumann <strauman@slac.stanford.edu>

	* shared/start/start.S, shared/start/preload.S:
	Make sure stack is 16-byte aligned and the TOS
	is tagged with a NULL pointer (used as a terminator
	when printing stack traces).

2011-07-26  Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/openpic_i8259_irq.c: silenced compiler warnings.
	
2011-07-21  Till Straumann <strauman@slac.stanford.edu>

	* shared/motorola/motorola.c: removed
	PCI_FIXUP_OPT_OVERRIDE_NAME for qemu - qemu gets it
	right and this option messes things rather up.

2011-07-21	Sebastian Huber <sebastian.huber@embedded-brains.de>

	PR 1799/bsps
	* acinclude.m4: Update for qoriq BSPs.
	* shared/include/linker-symbols.h: New file.

2011-07-21	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c: Fix to clear the first pending decrementer
	exception.

2011-07-20	Till Straumann <strauman@slac.stanford.edu>

	PR 1837/bsps
	* shared/motorola/motorola.c, shared/motorola/motorola.h: Add MVME2400
	board with 750 CPU to list of supported Motorola boards.

2011-07-18  Till Straumann <strauman@slac.stanford.edu>

	* shared/bootloader/qemu_fakerom.S: Added work-around for
	qemu bug 811683.

2011-07-18  Till Straumann <strauman@slac.stanford.edu>

	* shared/bootloader/head.S: disable USE_PPCBUG under qemu.

2011-07-18  Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/bspstart.c: Select console *before* doing
	any potential printk() (e.g., panic).

2011-07-18  Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/ppc_idle.c: Need to enable HID0[NAP] on
	a 7400/7455/7457 for MSR[POW] to have an effect.

2011-07-15  Till Straumann <strauman@slac.stanford.edu>

	* shared/bootloader/mm.c, shared/bootloader/pci.c,
	shared/bootloader/qemu_fakeres.c, shared/bootloader/qemu_fakerom.S,
	shared/irq/irq.h, shared/motorola/motorola.c, shared/residual/residual.h,
	shared/startup/bspstart.c,
	Added 'qemuprep' BSP variant.

2011-07-15  Till Straumann <strauman@slac.stanford.edu>

	* shared/bootloader/misc.c: Copy residual data 
	_before_ decompressing the kernel since the firmware
	may have stored it in an area that is overwritten
	by decompress_kernel().

2011-07-15  Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/ppc_idle.c: added an 'idle task' body
	which switches the CPU into power-save mode. IIRC, this
	cannot be used on real hardware due to errata :-( but
	it still saves valuable host-CPU cycles when used by
	the qemuprep BSP.

2011-07-15  Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/init_irq.c, shared/irq/openpic_i8259_irq.c,
	shared/pci/detect_raven_bridge.c: conditionally compile
	ISA and PCI-interrupt related stuff only if BSP defines
	BSP_ISA_IRQ_NUMBER > 0 and/or BSP_PCI_IRQ_NUMBER > 0,
	respectively.
	
2011-06-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* Makefile.am: Remove references to non-existing files.

2011-06-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/startup/sbrk.c: Remove extraneous '}'.

2011-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/src/memcpy.c: New file.

2011-06-07	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/src/bsp-start-zero.S: Use BSP_DATA_CACHE_ENABLED instead of
	DATA_CACHE_ENABLE.

2011-05-17  Till Straumann <strauman@slac.stanford.edu>

	PR 1797/bsps
	* shared/startup/sbrk.c: Cleanup; changed default
	BSP_sbrk_policy to yield all memory to the heap.
	App must specify a different policy if desired.

2011-05-13  Gedare Bloom <gedare@gwmail.gwu.edu>

	PR 1797/bsps
	* shared/startup/sbrk.c : Renamed bsp_sbrk_init().
	
2011-05-07  Kate Feng <feng@bnl.gov>

	PR 1797/bsps
	* shared/startup/bspgetworkarea.c: Removed _bsp_sbrk_init().
	* shared/startup/pretaskinghook.c: Removed rtems/malloc.h.

2011-02-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/console/polled_io.c, shared/flash/spansionFlash.c,
	shared/startup/bspidle.c, shared/startup/probeMemEnd.c:
	Use "__asm__" instead of "asm" for improved c99-compliance.

2011-02-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Require autoconf-2.68, automake-1.11.1.

2011-01-28	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* beatnik/include/bsp.h, beatnik/irq/irq.h, beatnik/pci/gt_pci_init.c,
	ep1a/console/polled_io.c, ep1a/irq/openpic_xxx_irq.c,
	gen5200/include/irq.h, gen5200/irq/irq.c, gen5200/startup/bspstart.c,
	haleakala/irq/irq.c, mbx8xx/irq/irq.c, mbx8xx/irq/irq.h,
	motorola_powerpc/include/bsp.h, mpc8260ads/irq/irq.c,
	mpc8260ads/irq/irq.h, mvme3100/include/bsp.h, mvme3100/irq/irq.h,
	mvme3100/start/start.S, mvme5500/include/bsp.h, mvme5500/irq/irq.h,
	psim/include/bsp.h, psim/include/coverhd.h, psim/irq/irq.h,
	psim/shmsupp/addrconv.c, psim/shmsupp/getcfg.c,
	psim/startup/linkcmds, psim/tools/psim-gdb-top.in,
	psim/tools/psim-top.in, psim/tools/runtest-top.in, qemuppc/irq/irq.h,
	score603e/irq/irq.c, shared/bootloader/bootldr.h,
	shared/bootloader/em86.c, shared/bootloader/em86real.S,
	shared/bootloader/exception.S, shared/bootloader/head.S,
	shared/bootloader/lib.c, shared/bootloader/misc.c,
	shared/bootloader/mm.c, shared/bootloader/pci.c,
	shared/console/console.c, shared/console/consoleIo.h,
	shared/console/inch.c, shared/console/keyboard.h,
	shared/console/polled_io.c, shared/irq/i8259.c, shared/irq/irq.h,
	shared/irq/openpic_i8259_irq.c, shared/motorola/motorola.c,
	shared/motorola/motorola.h, shared/openpic/openpic.c,
	shared/openpic/openpic.h, shared/pci/pci.c,
	shared/residual/residual.c, shared/start/start.S, ss555/irq/irq.h:
	Fix typo where license said found in found in.

2011-01-19	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* shared/pci/detect_raven_bridge.c: Fix spelling.

2011-01-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/pci/detect_raven_bridge.c: Fix spelling.

2011-01-17	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/start/start.S: Remove conflict lines in comments.

2010-12-30	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/uboot_dump_bdinfo.c: Include <bsp/u-boot.h> if necessary.
	* shared/include/u-boot-board-info.h: New file.
	* shared/include/u-boot.h: Removed file.

2010-12-29	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/include/start.h, shared/src/bsp-start-zero.S: New files.

2010-08-25	Till Straumann <strauman@slac.stanford.edu>

	PR 1689/bsps
	* shared/flash/intelFlash.c: Scale erase timeout by actual
	system clock rate rather than assuming a fixed value.

2010-08-15	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* shared/console/polled_io.c: Add BSP_poll_char.

2010-08-03	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* shared/startup/sbrk.c: Make bsp's sbrk a weak reference so that the
	test of having sbrk() support in malloc can link.

2010-07-07	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1606/cpukit
	* shared/startup/panic.c: Remove
	INTERNAL_ERROR_INVALID_WORKSPACE_ADDRESS since it is not generated.

2010-06-21	Peter Dufault <dufault@hda.com>

	PR 1583/bsps
	* shared/startup/panic.c: Remove reference to ITRON.

2010-04-28	Joel Sherrill <joel.sherrilL@OARcorp.com>

	* shared/bootloader/em86.c, shared/bootloader/mm.c,
	shared/console/polled_io.c, shared/irq/irq_init.c,
	shared/startup/bspstart.c: Remove warnings.

2010-04-14	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/flash/flash.c: Include <unistd.h>.

2010-04-08      Eric Norum <wenorum@lbl.gov>

	* shared/motorola/vpd.c: add include to pick up read()/close() prototypes.

2010-03-27      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* shared/startup/bspstart.c, shared/startup/pgtbl_setup.c: fix
	prototypes

2010-03-25      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* aclocal.m4: add "gwlcfm" bsp

2009-12-16      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* shared/console/uart.c, shared/console/uart.h: adapted to new
	prototype for *_write function

2009-12-11	Ralf Corsépius <ralf.corsepius@rtems.org>

	PR 1483/cpukit
	* shared/pci/pci.c: Rename pci_config into rtems_pci_config_t.

2009-12-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/irq/irq_init.c: Add missing initializer.

2009-12-10	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/console/polled_io.c: Add prototype for boot_udelay.

2009-12-03	Till Straumann <strauman@slac.stanford.edu>

	* acinclude.m4, beatnik: Imported/added 'beatnik'
	BSP.

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/start/start.S: Added AltiVec support (initializing
	MSR[VE], VSCR and VRSAVE).

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vme_universe.c: moved extern declaration
	out of local scope.

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/panic.c: Fixed compiler warning.

2009-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/probeMemEnd.c: removed __here_s_the_real_end
	check. __rtems_end should be good enough.

2009-11-11	Till Straumann <strauman@slac.stanford.edu>

	* shared/start/start.S: Align initial stack to
	CPU_STACK_ALIGNMENT.

2009-11-03	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* shared/clock/clock.c: Remove classic decrementer handler
	* shared/vme/vme_universe.c: removed non-prototype warnings

2009-11-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/startup/probeMemEnd.c: Add missing prototypes.

2009-10-23	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/irq/irq_asm.S, shared/irq/README.deprecated,
	shared/irq/irq.c, shared/vectors/vectors.h,
	shared/vectors/vectors_init.c, shared/vectors/README.deprecated,
	shared/vectors/vectors.S: Removed files.
	* Makefile.am: Update for removed files.

2009-10-22	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c, shared/irq/irq_init.c,
	shared/irq/openpic_i8259_irq.c: Changed exception header file
	includes.

2009-10-20	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vme_universe.c:
	Fixed compiler warnings by adding prototypes to function
	declarations and moving extern declarations to global scope.

2009-10-20	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/pgtbl_setup.c: Fixed compiler warnings
	(added prototypes to function declarations etc.)

2009-10-20	Till Straumann <strauman@slac.stanford.edu>

	* shared/start/start.S, shared/startup/bspstart.c:
	let 'save_boot_params()' return a pointer to the commandline
	saved by the BSP and pass this pointer on to 'boot_card()'.

2009-10-19	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/linkcmds: Add __SBSS_END__ and __SBSS2_END__.

2009-10-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/startup/zerobss.c: Remove nested externs.

2009-10-16	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/motorola/motorola.c, shared/vme/vme_universe.c:
	Add missing prototypes.

2009-10-03	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/openpic/openpic.c: Make openpic_writefield
	static inline (Get rid of GCC warning).

2009-09-30	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/console/console.c: Reflect termios_baud_to_number having been
	renamed to rtems_termios_baud_to_number.

2009-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* acinclude.m4: Add qemuppc.

2009-09-25	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/bootloader/bootldr.h: Change extern inline to static inline.

2009-09-11	Till Straumann <strauman@slac.stanford.edu>

	* shared/openpic/openpic.c: include the more generic <rtems/pci.h>
	rather than <bsp/pci.h>.

2009-09-11	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/openpic_i8259_irq.c: Do not include <bsp/VMEConfig.h>
	if the bsp.h defines HAVE_NO_VME so that BSPs w/o VME do not
	have to create a dummy VMEConfig.h header.

2009-09-09	Joel Sherrill <joel.sherrill@oarcorp.com>

	PR 1435/bsps
	* shared/startup/bspidle.c: New file.

2009-08-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* ep1a/startup/linkcmds, mbx8xx/startup/linkcmds,
	score603e/startup/linkcmds, shared/startup/linkcmds,
	ss555/startup/linkcmds: Fix typos in .eh_frame sections.

2009-08-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/flash/spansionFlash.c: Convert calls to legacy routine
	rtems_clock_get( RTEMS_CLOCK_GET_xxx, ..) to rtems_clock_get_xxx().

2009-05-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/bspgetworkarea.c: Switch from ssize_t to uintptr_t for
	bsp_get_work_area() since the work area is larger than a single
	allocatable object.

2009-05-05	Jennifer Averett <jennifer.averett@OARcorp.com>

	* shared/pci/pci.c: Removed warnings.

2009-04-28	Chris Johns <chrisj@rtems.org>

	* shared/start/start.S: Update for boot_card command line change.

2009-03-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1385/cpukit
	* shared/irq/irq_asm.S: When the type rtems_boolean was switched to the
	C99 bool, the size changed from 4 bytes to 1 byte. The interrupt
	dispatching code accesses two boolean variables for scheduling
	purposes and the assembly implementations of this code did not get
	updated.

2009-03-05	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c: Standard decrementer exception is now more
	robust against erroneous external exception disable times.

2009-02-27	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspgetworkarea.c: Add check to determine if current
	stack pointer is in work area.

2009-02-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspgetworkarea.c: Make debug messages same as
	standard.

2009-02-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/irq/irq.c: Spacing.

2009-02-11	Matt Rippa <mrippa@gemini.edu>

	PR 1352/bsps
	* shared/motorola/motorola.c: Include support for mvme2600/mvme2700.

2009-02-11	Matt Rippa <mrippa@gemini.edu>

	PR 1362/bsps
	* shared/console/bspreset.c: Fix BSP reset on mvme2300 - mvme2700.

2008-12-04	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/irq/openpic_i8259_irq.c: Line wrap.

2008-11-03	Till Straumann <strauman@slac.stanford.edu>

	PR 1332: call BSP_uart_termios_set()/BSP_uart_intr_ctrl()
	only from 'firstOpen' and only if this is a serial console.

2008-11-03	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/pretaskinghook.c, shared/startup/sbrk.c:
	Fixed PR#1335.

2008-10-02	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c: Update for status-checks.h changes.

2008-10-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/bspgetworkarea.c: Change size_t to ssize_t on
	bsp_get_work_area(). On 16-bit architectures, size_t can be 16-bits
	which would limit the work area to 64K.

2008-09-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/console/inch.c, shared/startup/panic.c: Use standardized
	bsp_cleanup() which can optionally print a message, poll for user to
	press key, and call bsp_reset(). Using this eliminates the various
	bsp_cleanup() implementations which had their own implementation and
	variety of string constants.
	* shared/console/bspreset.c: New file.
	* shared/console/reboot.c: Removed.

2008-09-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/bspgetworkarea.c, shared/startup/sbrk.c: Remove
	warnings by switching to uintptr_t.

2008-09-19	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/start/start.S, shared/startup/bspgetworkarea.c,
	shared/startup/bspstart.c, shared/startup/linkcmds: Modifications
	which reflect those tested on psim. Hopefully they work on all
	boards. The initialization stack is explicitly declared in the
	linkcmds memory layout rather than magic math.

2008-09-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/include/nvram.h: Fix typo.

2008-09-16	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/clock/clock.c: Remove unnecessary includes of
	rtems/libcsupport.h and rtems/libio.h.

2008-09-15	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/bspstart.c, shared/startup/pretaskinghook.c: Add use
	of bsp_get_work_area() in its own file and rely on BSP Framework to
	perform more initialization.
	* shared/startup/bspgetworkarea.c: New file.

2008-09-10	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/bspstart.c: Review of all bsp_cleanup()
	implementations. In this phase, all prototypes were removed from
	bsp.h and empty implementations were removed and made to use the
	shared stub.

2008-09-08	Joel Sherrill <joel.sherrill@oarcorp.com>

	* acinclude.m4: Add tqm8xx.

2008-09-08	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* tqm8xx: New BSP.

2008-09-06	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/irq/irq.c: Convert to "bool".

2008-09-05	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/clock/clock.c: The Shared Memory Driver no longer requires the
	special IOCTL in Clock_control. This was a hack which has existed
	since before the Classic API Timer Manager was implemented. All
	implementations of and references to Clock_control were removed.

2008-09-05	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/console/inch.c: Convert to "bool".

2008-08-28	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vme_universe.c: added implementation for
	BSP_VMEResetBus().

2008-08-20	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/flash/flash.c, shared/irq/irq_init.c: Add missing
	prototypes.
	* shared/showbats.c, shared/console/inch.c, shared/irq/irq_init.c,
	shared/pci/detect_raven_bridge.c, shared/startup/bspstart.c,
	shared/startup/zerobss.c, shared/vme/vmeconfig.c,
	startup/exit.c: Add missing prototypes.

2008-08-19	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c: Fixed warnings.

2008-07-18	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c: Update due to powerpc-utilty.h changes.

2008-07-14	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* mpc55xxevb: New BSP.

2008-07-14	Thomas Doefler <Thomas.Doerfler@embedded-brains.de>
	* haleakala: added new BSP

2008-07-11	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* ep1a/startup/bspstart.c, mvme3100/startup/bspstart.c,
	mvme5500/startup/bspstart.c, psim/startup/bspstart.c,
	shared/startup/bspstart.c: The usage of SPRG0 as changed.  It is now
	used to store the interrupt disable mask.  See bootcard.c and
	ppc_exc_initialize() for default initialization.

	Update to new exception initialization routine ppc_exc_initialize().
	The exception low level code has changed, see libcpu/powerpc/ChangeLog.

	* gen5200/startup/bspstart.c, mbx8xx/startup/bspstart.c,
	mpc8260ads/startup/bspstart.c, ss555/startup/bspstart.c,
	virtex/startup/bspstart.c: The usage of SPRG0 as changed.  It is now
	used to store the interrupt disable mask.  See bootcard.c for default
	initialization.

2008-07-10	Till Straumann <strauman@slac.stanford.edu>

	* shared/flash/spansionFlash.c: removed "m" memory
	operands.

2008-07-09	Sebastian Huber <sebastian.huber@embedded-brains.de>

	* shared/clock/clock.c: Alternative clock driver.  Uses exception handler
	directly.  Supports special variants for Book E and e300 cores.  For
	standard decrementer CPUs the new decrementer value is calculated with
	reference to a time base so that a time drift is avoided.

2008-07-01	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/uboot_getenv.c: New file.

2008-06-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/panic.c: Convention calls for leading underscore on
	private RTEMS variables.

2008-05-23	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/pretaskinghook.c: removed declaration
	of BSP_vme_config() (which is already declared in
	<bsp/VME.h>. Removed test for NULL-ness of BSP_vme_config;
	gcc doesn't seem to understand that the linker may 
	define this to be NULL... Silences a compiler warning
	(and users can always provide an empty routine).

2008-05-22	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/linkcmds, shared/startup/zerobss.c:
	introduced '__bss_end'; assuming that __rtems_end
	coincides with the end of .bss for the purpose of
	zeroing .bss is very dangerous.

2008-05-22	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/console/console.c: Fix typo.

2008-05-22	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/console/console.c: Remove explicit switch and call
	termios_baud_to_number().

2008-05-15	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/pretaskinghook.c: Add capability for bootcard.c BSP
	Initialization Framework to ask the BSP where it has memory for the
	RTEMS Workspace and C Program Heap. These collectively are referred
	to as work area. If the BSP supports this, then it does not have to
	include code to split the available memory between the two areas.
	This reduces the amount of code in the BSP specific bspstart.c file.
	Additionally, the shared framework can initialize the C Library, call
	rtems_debug_enable(), and dirty the work area memory. Until most/all
	BSPs support this new capability, if the BSP supports this, it should
	call RTEMS_BSP_BOOTCARD_HANDLES_RAM_ALLOCATION from its configure.ac.
	When the transition is complete, this autoconf macro can be removed.

2008-05-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspstart.c: Refactored and renamed initialization
	routines to rtems_initialize_data_structures,
	rtems_initialize_before_drivers, rtems_initialize_device_drivers, and
	rtems_initialize_start_multitasking. This opened the sequence up so
	that bootcard() could provide a more robust and flexible framework
	which is easier to explain and understand. This also lays the
	groundwork for sharing the division of available memory between the
	RTEMS workspace and heap and the C library initialization across all
	BSPs.

2008-03-21	Till Straumann <strauman@slac.stanford.edu>

	* shared/console/uart.c: In IRQ driven mode also
	keep reading chars while they are available (fifo
	could be enabled).

2008-03-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/console/console.c, shared/console/uart.c,
	shared/console/uart.h: added support for task-driven
	console.

2008-03-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/pretaskinghook.c: install pointer
	to rtems_malloc_sbrk_helpers_table. This (and derived)
	BSPs rely on sbrk delivering even the first/initial
	chunk of memory.

2008-03-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/linkcmds: Add wildcard to gcc_except_table section so
	programs compiled with gcc 4.3.x can link.

2008-02-19	Ralf Corsépius <ralf.corsepius@rtems.org>

	* gen405: Remove (Abandoned).
	* helas403: Remove (Abandoned).
	* acinclude: Regenerate.

2007-12-14	Joel Sherrill <joel.sherrill@oarcorp.com>

	* acinclude.m4, gen5200/irq/irq.c, gen5200/startup/bspclean.c: Add
	mvme3100.

2007-12-11	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspstart.c, shared/startup/pretaskinghook.c: Eliminate
	copies of the Configuration Table. Use the RTEMS provided accessor
	macros to obtain configuration fields.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, start/preload.S: moved preload.S
	to ../shared/start.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_asm.S, shared/vectors/vectors.h:
	renamed ASM_BOOKE_PIT_VECTOR to ASM_BOOKE_DEC_VECTOR
	to be closer to 'official' nomenclature.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* shared/openpic/openpic.c: fixed wrong register
	address in openpic_gettimer().

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* shared/motorola/vpd.c, shared/motorola/vpd.h:
	added code (originally developed for 'beatnik')
	to read MotLoad VPD data from i2c eeprom.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>

	* shared/vectors/README.deprecated, shared/irq/README.deprecated:
	added READMEs stating that certain files should not be
	copy/paste/modified when creating new BSPs. New BSPs
	are encouraged to use the new library under
	libcpu/powerpc/new-exceptions/bspsupport.

2007-12-10	Till Straumann <strauman@slac.stanford.edu>
	
	* shared/vectors/vectors_entry.S, motorola_powerpc/bsp_specs,
	shared/start/vectors_entry.S: moved vectors_entry.S to
	'start' subdir and made a start file rather than
	element of vectors.rel (it should always be linked but
	won't if it is the sole member of vectors.rel).

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vme_universe.c: fixed wrong initialization
	routine when using Tsi148 driver.

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am: merged shared/vme/vme_universe.c and
	shared/vme/vme_universe_dma.c into one file.
	Added support for Tsi148 driver (DMA).

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/VMEConfig.h, shared/vme/vme_universe.c:
	added support for Tsi148 bridge; BSP can define which
	bridge driver to use from VMEConfig.h.
	Added 'err' macro parameter to BSP_VME_INSTALL_IRQ_MGR(err)
	macro so that an error status can be passed back.

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* irq_supp.h: was moved from shared/irq to
	libcpu/powerpc/new-exceptions/bspsupport.

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	* ep1a/irq/irq.c, gen5200/irq/irq.c, gen83xx/irq/irq_init.c,
	mbx8xx/irq/irq.c, mpc8260ads/irq/irq.c, mvme5500/irq/irq.c,
	psim/irq/no_pic.c, score603e/irq/irq.c, shared/irq/irq_supp.h,
	shared/irq/openpic_i8259_irq.c, virtex/irq/irq_init.c:
	let C_dispatch_irq_handler() return zero to indicate to
	low-level exception handling code that the exception
	was handled (not used yet).

2007-12-08	Till Straumann <strauman@slac.stanford.edu>

	*shared/irq/irq_supp.h: removed cpp test for
	BSP_SHARED_HANDLER_SUPPORT; BSPs using irq_supp.h
	*must* implement shared handlers.

2007-12-06	Till Straumann <strauman@slac.stanford.edu>

	* shared/openpic/openpic.c, shared/openpic/openpic.h:
	added routines to set timer period and interupt mask
	and to read current count.

2007-12-06	Till Straumann <strauman@slac.stanford.edu>

	* virtex/irq/irq_init.c: use new ASM_xxx_VECTOR names.

2007-12-06	Till Straumann <strauman@slac.stanford.edu>

	* shared/vectors/vectors_init.c: replaced 
	switch ( current_ppc_cpu ) { } check by feature check.

2007-12-06	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_asm.S, shared/vectors/vectors.S:
	Replaced use of hardcoded PPC_EXC_MSR_BITS by a
	run-time method to determine these bits (use settings
	effective before exception occurred).
	Replaced use of hardcoded ASM_VECTORS_CRITICAL by
	'bsp_raw_vector_is_405_critical' variable.

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_supp.h: removed stray '*/'. Removed
	inclusion of <stdlib.h> which is unnecessary and broke
	if_dc in an obscure way (due to malloc/free redefinition
	in the networking code).

2007-12-05	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_asm.S, shared/vectors/vectors.S,
	shared/vectors/vectors.h, shared/vectors/vectors_init.c:
	Converted exception vector names to new ones
	(qualified by <cpu_type> if non-std ppc exceptions).


2007-12-04	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/bspstart.c: export BSP_commandline_string
	variable.

2007-12-04	Till Straumann <strauman@slac.stanford.edu>

	* shared/flash/flash.c: added lazy init of driver
	from BSP_flashWriteFile().

2007-12-04	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspstart.c: Move interrupt_stack_size field from CPU
	Table to Configuration Table. Eliminate CPU Table from all ports.
	Delete references to CPU Table in all forms.

2007-12-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/irq/irq.c: Spacing.

2007-12-03	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspstart.c: Moved most of the remaining CPU Table
	fields to the Configuration Table. This included pretasking_hook,
	predriver_hook, postdriver_hook, idle_task, do_zero_of_workspace,
	extra_mpci_receive_server_stack, stack_allocate_hook, and
	stack_free_hook. As a side-effect of this effort some multiprocessing
	code was made conditional and some style clean up occurred.

2007-12-03	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/irq/irq.c, shared/irq/irq_supp.h: Correct conditionals and
	includes.

2007-12-02	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/i8259.c, shared/irq/irq.h, shared/irq/irq_supp.h,
	shared/irq/openpic_i8259_irq.c: BSP_disable_irq_at_pic(),
	openpic_disable_irq(), BSP_irq_disable_at_i8259s() now return
	0/1 if irq was disabled/enabled prior to disabling.
	irq_supp.h now exports a inline helper routine for scanning
	a list of shared handlers; to be used by PIC drivers.

2007-12-02	Till Straumann <strauman@slac.stanford.edu>

	* shared/openpic/openpic.c shared/openpic/openpic.h,
	shared/irq/irq_init.c: added more parameters to 
	openpic_init() so that more details of the configuration
	can be overridden/set from the BSP. Moved setup of
	the EPIC-specific EOI delay from BSP code into openpic_init()
	using the new 'epic_freq' parameter.

2007-12-02	Till Straumann <strauman@slac.stanford.edu>
	* shared/openpic/openpic.c, shared/openpic/openpic.h:
	- eliminated conditional compilation (#ifdef mpc8240)
	  The difference in register-layout between the EPIC
	  and the std. openPIC is handled by an offset parameter
	  which can be set at run-time (initialization) with
	  a new routine 'openpic_set_src_offset()'.
	- allow BSP to define symbol BSP_OPEN_PIC_BIG_ENDIAN
	  which builds the driver for big-endian register access
	  (mpc8540).
	- openpic_disable_irq() now returns the old state so
	  that it can be restored later.

2007-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/openpic_i8259_irq.c:
	- conditionally define 'irq_mask_or_tbl' only if
	  BSP_PCI_ISA_BRIDGE_IRQ is defined.
	- use _ISR_Get_level() / _ISR_Set_level() for re-enabling
	  interrupts rather than messing with MSR directly;
	  these macros:
	    o implement compiler memory barrier
		o will handle multiple levels (e500 'critical' interrupts)
		  if they are ever supported.
	- decrementer irqs are also shareable - added list traversal.

2007-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_supp.h: Make sure BSP_SHARED_HANDLER_SUPPORT
	is set. The shared irq manager supports shared interrupts
	(but requires also that the PIC-driver supports them by
	traversing the list of shared handlers).
	Declare C_dispatch_irq_handler() which must be defined
	(like the other routines declared in this header) by the
	PIC-driver.

2007-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/clock/p_clock.c: (run-time) check for e500-cpu
	and install different ISR for that type of CPU.

2007-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/pci/detect_raven_bridge.c: use ifdef mvme2100
	rather than ifdef mpc824x so that we don't depend on
	compile-time CPU flavor. Eventually, this should become
	a run-time check.

2007-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/vectors/vectors.h: Give the BSP_Exception_frame
	struct a name.

2007-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vmeconfig.c: Include <libcpu/bat.h> only
	if the BSP-specific configuration header (VMEConfig.h)
	defines BSP_VME_BAT_IDX so that this file can be used
	on CPUs w/o bats (e500).

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/bspstart: removed _Cpu_table.exceptions_in_RAM.

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/pretaskinghook.c: Replaced inclusion of
	<bsp/consoleIo.h> by <rtems/bspIo.> (for printk) and
	made it conditional on #ifdef SHOW_MORE_INIT_SETTINGS.

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/bspstart.c: Removed excess /*, replaced
	#ifdef checks for mpc8240 by #ifdef mvme2100; eventually
	there should be run-time checks.

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* shared/motorola/motorola.c: removed excess initializer
	elements.

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq.h, shared/irq/irq.c, shared/irq/irq_init.c,
	shared/irq/irq_supp.h (added):
	Removed 'is_processor_irq()' from irq.c; the BSP routines
	BSP_enable_irq_at_pic()/BSP_disable_irq_at_pic() are required
	to ignore processor irqs anyways. Removed
	all BSP-defined constants from irq.c. This makes irq.c (almost)
	binary-compatible among BSPs (ultimate goal is making 'shared'
	a library).
	Added a header (irq_supp.h) defining the interface between
	the generic interrupt manager (irq.c) and the routines it
	requires to be supplied by the BSP (eventually, these
	should go into rtems/irq.h).

2007-11-30	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq.h, shared/irq/irq_init.c: Removed the definition
	of ASM_IRQ_VECTOR_BASE; this symbol was only use to
	initialize the irqBase member of the rtems_irq_global_settings
	struct. However, irqBase is an rtems_irq_symbolic_name,
	so using BSP_LOWEST_OFFSET is more appropriate.

2007-11-28	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/startup/bspstart.c: Eliminate PowerPC specific elements from
	the CPU Table. They have been replaced with variables named bsp_XXX
	as needed.

2007-11-29	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, shared/flash, shared/flash/flash.c,
	shared/flash/flashPgm.h, shared/flash/flashPgmPvt.h,
	shared/flash/intelFlash.c, shared/flash/spansionFlash.c:
	Added flash programmer API, implementation and chip drivers
	for some intel + spansion flash chips (as found on mvme5500,
	mvme6100 and mvme3100 boards).
	A more appopriate place would probably be libchip but
	I don't know if the API is acceptable and if the implementation
	is generic enough (e.g., no CFI support) so I leave it here
	for now.

2007-11-26	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/console/uart.c: Fix typo and spacing.

2007-11-21	Till Straumann <strauman@slac.stanford.edu>

	* shared/console/uart.c: when draining UART during
	initialization (wait for possible printk() activity
	to finish) look at TEMT (fifo, holding-reg and shift-reg)
	rather than THRE (fifo, holding-reg only). This resolved
	some scrambled output issues for me.

	Enhanced semantics: if BSP initializes BSPBaseBaud to a negative
	value then the driver interprets the modulus as a speed value
	and uses the current setting of the divisor to compute the
	clock speed (BSPBaseBaud). This is useful if you have a board
	that you know is initialized e.g., to 9600 but you
	don't know the clock speed.

2007-11-21	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, motorola_powerpc/Makefile.am,
	* shared/pci/detect_raven_bridge.c, Makefile.am,
	* shared/pci/generic_clear_hberrs.c: separated the generic
	version of _BSP_clear_hostbridge_errors() into its own
	file.

2007-11-06	Till Straumann <strauman@slac.stanford.edu>

	* ep1a/irq/irq.c, gen5200/irq/irq.c, mbx8xx/irq/irq.c,
	mpc8260ads/irq/irq.c, mvme5500/irq/irq.c, psim/irq/irq.c,
	score603e/irq/irq.c, shared/irq/irq.c:
	test for non-NULL-ness before calling 'on'/'off'
	methods so that users don't have to provide
	no-ops if they don't want this feature.

2007-11-06	Till Straumann <strauman@slac.stanford.edu>

	* shared/console/uart.c: removed #define UARTDEBUG

2007-11-06	Till Straumann <strauman@slac.stanford.edu>

	* shared/pci/pci.c: converted access to pci_config_addr to
	conditionally defined macros so that bsp.h can override details.

2007-09-12	Joel Sherrill <joel.sherrill@OARcorp.com>

	PR 1257/bsps
	* shared/irq/i8259.c, shared/irq/irq.c: Code outside of cpukit should
	use the public API for
	rtems_interrupt_disable/rtems_interrupt_enable. By bypassing the
	public API and directly accessing _CPU_ISR_Disable and
	_CPU_ISR_Enable, they were bypassing the compiler memory barrier
	directive which could lead to problems. This patch also changes the
	type of the variable passed into these routines and addresses minor
	style issues.

2007-09-07	Joel Sherrill <joel.sherrill@OARcorp.com>

	* shared/console/polled_io.c: Change prototype so code compiles.

2007-08-02	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/startup/bspstart.c: Split out ShowBATS() so it can be shared
	by more BSPs.
	* shared/showbats.c: New file.

2007-07-09	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* acinclude.m4, gen83xx/:
	added support for MPC83xx controllers and MPC8349EAMDS board
	
2007-07-02	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* acinclude.m4, shared/irq/irq_asm.S, shared/irq/irq.c,
	* shared/vectors/vectors_entry.S, shared/vectors/vectors.h,
	* shared/vectors/vectors_init.c, shared/vectors/vectors.S:
	converted various BSP specific implementations into a more general
	"shared" one

2007-07-02	Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* virtex/:
	integrated "virtex" BSP to support PPC core implemented in a
	Xilinx virtex FPGA

2007-06-20	Joel Sherrill <joel.sherrill@oarcorp.com>

	* shared/uboot_dump_bdinfo.c: New file.

2007-04-17	Joel Sherrill <joel@OARcorp.com>

	* psim/tools/runtest: Do not run pppd.exe from batch mode script.

2007-04-17	Joel Sherrill <joel@OARcorp.com>

	* shared/start/rtems_crti.S: Remove unnecessary include of libcpu/io.h.

2007-04-09	Thomas Doerfler |Thomas.Doerfler@embedded-brains.de>

	* shared/motorola/motorola.c,shared/openpic/openpic.c, 
	* shared/pci/detect_raven_bridge.c, shared/pci/pci.c:
	adapted to detect/use MVME2400

2007-04-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/pci/pci.c: More stdint.h fixed-size types.

2007-03-31	Ralf Corsépius <ralf.corsepius@rtems.org>

	* shared/bootloader/bootldr.h, shared/bootloader/em86.c,
	shared/bootloader/pci.c, shared/bootloader/pci.h,
	shared/irq/irq_init.c, shared/pci/detect_raven_bridge.c,
	shared/pci/pci.c, shared/pci/pcifinddevice.c:
	Use stdint.h fixed-size types.

2007-03-11	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/bspstart.c: Remove assignments of
	Cpu_table.do_zero_of_workspace to TRUE since TRUE is the default
	value in boot_card.c

2007-01-29	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/VMEConfig.h:
	Added more comments about the semantics of the various
	symbols BSPs should define in this file.
	Removed declarations of BSP_VMEInit(), BSP_VMEIrqMgrInstall().

	* shared/vme/vmeconfig.c: declare BSP_VMEInit(),
	BSP_VMEIrqMgrInstall() here.

	* Makefile.am, shared/vme/README,
	* shared/vme/vme_universe_dma.c (added): Added glue code
	implementing the VMEDMA.h API using the vmeUniverse driver.

2007-01-20      Thomas Doerfler <Thomas.Doerfler@embedded-brains.de>

	* gen5200/mscan/mscan.c, gen5200/mscan/mscan.h,
	gen5200/mscan/mscan_int.h:
	split mscan.h into two headers, corrected CAN filtering
	code to
	support remote requests

2007-01-19	Till Straumann <strauman@slac.stanford.edu>

	* mvme5500/Makefile.am, mvme5500/preinstall.am,
	mvme5500/vme/VMEConfig.h, mvme5500/vme/VME.h,
	mvme5500/vme/vmeconfig.c:
	removed copies of vmeconfig.c, VME.h - use generic
	versions instead.

2007-01-19	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, ep1a/Makefile.am, ep1a/preinstall.am,
	motorola_powerpc/Makefile.am, motorola_powerpc/preinstall.am,
	score603e/Makefile.am, score603e/preinstall.am,
	shared/vme/VME.h: moved VME.h from libbsp/powerpc/shared/vme to
	libbsp/shared/vmeUniverse; eventually, this (and other)
	VME API headers should migrate to cpukit.

2007-01-16	Till Straumann <strauman@slac.stanford.edu>

	* ep1a/vme/vmeconfig.c, mvme5500/pci/pcifinddevice.c,
	mvme5500/startup/pgtbl_activate.c, mvme5500/vectors/bspException.h,
	mvme5500/vectors/exceptionhandler.c, mvme5500/vme/VME.h,
	mvme5500/vme/vmeconfig.c, score603e/vme/vmeconfig.c,
	shared/pci/pcifinddevice.c, shared/startup/pgtbl_activate.c,
	shared/startup/pgtbl_setup.c, shared/startup/probeMemEnd.c,
	shared/startup/sbrk.c, shared/vme/VME.h, shared/vme/VMEConfig.h,
	shared/vme/vme_universe.c, shared/vme/vmeconfig.c:
	Added SLAC/Stanford Authorship Note / Copyright + Liability Disclaimer.

2006-12-13	Till Straumann <strauman@slac.stanford.edu>

	* mvme5500/Makefile.am, mvme5500/preinstall.am:
	need to install bsp/vme_am_defs.h

2006-12-13	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vmeconfig.c, shared/vme/vme_universe.c:
	use symbolic flag instead of numerical value
	(vmeUniverseInstallIrqMgrAlt()). Define __INSIDE_RTEMS_BSP__
	before including <bsp/vmeUniverse.h>

2006-12-02	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: New BUG-REPORT address.

2006-11-15	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/bspstart.c: Merge c_rtems_main() into boot_card().
	This eliminated a file and simplified initialization.

2006-10-17	Ralf Corsépius <ralf.corsepius@rtems.org>

	* configure.ac: Require autoconf-2.60. Require automake-1.10.

2006-08-21	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vmeconfig.c: open outbound window
	to VME CSR space if the BSP defines _VME_CSR_ON_PCI

2006-08-10	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/openpic_i8259_irq.c: fixed type of
	'frame' argument to C_dispatch_irq_handler(). It's
	really a BSP_Exception_frame*, not a CPU_Interrupt_frame*.

2006-07-12	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/probeMemEnd.c: added paranoia to inline
	assembly code; added 'memory' clobbers and made sure
	any registers modified by the 'asm' appear in the output
	operands.

2006-07-12	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/panic.c: Fixed compiler warnings.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vmeconfig.c: Indicate that it's ok to
	use decoupled cycles to access on-board memory from
	VME.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/vme/vme_universe.c: Only set/access the
	_BSP_vme_bridge_irq variable on BSPs that
	define BSP_PCI_VME_DRIVER_DOES_EOI and BSP_PIC_DO_EOI.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/vectors/vectors.S: filter exception vector for
	altivec and remap 0xf20 to assigned vector number alias.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/bspstart.c: fixed compiler warnings
	(bspIo.h inclusion, cast of number constants to pointers).
	Enable L1 cache on mvme2100.

2006-06-19	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_asm.S: Never allow the FPU to be switched on
	for integer-only tasks (new gcc may use FP regs implicitly).

2006-03-08	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/linkcmds: Add .gnu.linkonce.b.* section.

2006-02-13	Till Straumann <strauman@slac.stanford.edu>

	* shared/startup/panic.c, shared/startup/probeMemEnd.c:
	added code for BSPs to use: panic using printk() to display
	reason. probeMemEnd() to determine memory size by probing.

2006-02-08	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/linkcmds: Add sections required by newer gcc versions.

2006-01-08	Joel Sherrill <joel@OARcorp.com>

	* acinclude.m4: Add gen5200 to list of BSPs.

2006-01-05	Till Straumann <strauman@slac.stanford.edu>

	* shared/vectors/vectors.S: mask high bits when calculating
	the exception vector number to yield correct result even if
	the vectors reside in the upper area (0xfff00000; psim).

2005-12-02	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_init.c, shared/openpic/openpic.h
        shared/openpic/openpic.c: The 8240's EPIC has a 'serial'
        mode of operation for multiplexing 16 interrupt lines.
        This introduces a pipeline delay which can cause
        spurious interrupts unless ending the interrupt cycle
        (EOI) is delayed accordingly.

2005-12-01	Till Straumann <strauman@slac.stanford.edu>

	* shared/vectors/vectors.h, shared/vectors/vectors.S,
        shared/vectors/vectors_init.c: Reduced size of default
        prologue (some exceptions, e.g., altivec unavail.) are only
        0x20 bytes apart. Also introduced a modified prologue
        that switches r0..r3 shadowing off (r0..r3 undefined
        on certain 603e variants when incurring a TLB miss).

2005-11-29	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq_asm.S, shared/vectors/vectors.S: Clear
        CR[6] before invoking high-level handler to make sure no
        varargs fn callee assumes there are FP arguments.

2005-11-29	Till Straumann <strauman@slac.stanford.edu>

	* shared/irq/irq.c: Fixed incorrect removal of first shared
        interrupt in chain.

2005-11-09	Ralf Corsepius <ralf.corsepius@rtems.org>

	* shared/startup/bspstart.c: Eliminate obsolete types.

2005-11-03	Till Straumann <strauman@slac.stanford.edu>

	* Makefile.am, motorola_powerpc/Makefile.am, mvme5500/Makefile.am,
	mvme5500/start/preload.S, mvme5500/startup/bspstart.c,
	shared/startup/bspstart.c: moved linkcmds to shared area for other
	BSPs to use

2005-11-03	Till Straumann <strauman@slac.stanford.edu>

	* shared/bootloader/misc.c, shared/console/polled_io.c,
	shared/residual/residual.c: silenced compiler warnings (type cast &
	renaming puts->my_puts)

2005-11-02	Till Straumann <strauman@slac.stanford.edu>

	* mvme5500/start/start.S, shared/start/start.S,
	shared/startup/bspstart.c: moved assembly code to C; setdbat now
	supports high bats on 7450 CPUs; added argument checking to setdbat;
	added getdbat; moved early initialization code (clear_bats) from BSP
	to libcpu (CPU_clear_bats_early)

2005-10-20	Eric Norum <norume@aps.anl.gov>

	* shared/pci/detect_raven_bridge.c, shared/startup/bspstart.c
	shared/vme/VMEConfig.h: Support MVME2100.

2005-10-17	Ralf Corsepius <ralf.corsepius@rtems.org>

	* Makefile.am: Merge-in shared/Makefile.am.
	* configure.ac: Remove shared/Makefile.am.
	* ChangeLog: Merge-in shared/ChangeLog.

2005-10-06	Till Straumann <strauman@slac.stanford.edu>

	PR 833/bsps
	* shared/irq/irq_asm.S: Currently, all (new exception) BSPs
	explicitely enable the FPU across the user ISR but DONT save/restore
	the FPU context. Any use of the FPU fron the user handler (e.g., due
	to GCC optimizations) result in corruption. The fix results in an
	exception in such cases (user ISR must explicitely
	save/enable/restore FPU).

2005-09-16	richard.campbell@OARCorp.com

	* shared/startup/bspstart.c: Rewrote get_eumbbar() in C. Function
	was written in inline assembly and containined a register direction
	error.

2005-07-28	Eric Norum <norume@aps.anl.gov>

	* shared/shared/clock/p_clock.c: Changes provided by Phillip
	Sorensen <pas37@cornell.edu> to get MVME550 BSP running. 
	Corresponding changes made to mvme5500/startup/bspstart.c.

2005-05-17	Jennifer Averett <jennifer.averett@oarcorp.com>

	* shared/clock/p_clock.c, shared/irq/i8259.c, shared/irq/irq.c,
	shared/irq/irq.h: Modified to use rtems/irq.h.

2005-05-10	Ralf Corsepius <ralf.corsepius@rtems.org>

	* shared/startup/bspstart.c, shared/tod/todcfg.c: Eliminate
	{un|}signed{8|16|32}.
	* shared/bootloader/pci.c: Eliminate {un|}signed{8|16|32}. Eliminate
	u32.

2005-05-10	Jennifer Averett <jennifer.averett@oarcorp.com>

	* shared/bootloader/bootldr.h, shared/bootloader/em86.c,
	shared/bootloader/misc.c, shared/bootloader/pci.c,
	shared/bootloader/pci.h: Modified to depend upon rtems/pci.h

2005-05-06	Ralf Corsepius <ralf.corsepius@rtems.org>

	* shared/pci/pci.h: Add pci_bus_count().

2005-05-04	Jennifer Averett <jennifer.averett@oarcorp.com>

	* shared/irq/irq_init.c, shared/pci/pci.c,
	shared/pci/pcifinddevice.c, shared/startup/bspstart.c: Name change
	to support common PCI interface

2005-04-28	Joel Sherrill <joel@OARcorp.com>

	* acinclude.m4: Remove dmv177 and ppcn_60x.
	* configure.ac: Remove reference to dmv177.

2005-04-28	Jennifer Averett <jennifer.averett@oarcorp.com>

	* acinclude.m4: Initial release of ep1a bsp

2005-04-26	Joel Sherrill <joel@OARcorp.com>

	* shared/console/uart.h: Eliminate tabs.

2005-04-15	Jennifer Averett <jennifer.averett@oarcorp.com>

	PR 779/bsp
	* shared/clock/p_clock.c, shared/console/console.c,
	shared/console/uart.c, shared/console/uart.h, shared/irq/irq.c,
	shared/irq/irq.h, shared/irq/irq_init.c: powerpc: add parameter to
	new exception interrupt handlers

2005-03-14	Joel Sherrill <joel@OARcorp.com>

	* shared/pci/pci.c, shared/pci/pci.h, shared/pci/pcifinddevice.c:
	Continue PCI API unification. All use pci_find_device(). Also
	reformat to remove tabs.

2005-03-04	Joel Sherrill <joel@OARcorp.com>

	* shared/pci/pci.c, shared/pci/pcifinddevice.c,
	shared/startup/bspstart.c: Make PCI initialize function part of the
	unified PCI API as pci_initialize().

2005-02-17	Ralf Corsepius <ralf.corsepius@rtems.org>

	* shared/startup/bspstart.c: Eliminate rtems_unsigned32.
	* shared/startup/bspstart.c, shared/start/start.S: include
	<rtems/powerpc/powerpc.h>. Use PPC_MINIMUM_STACK_FRAME_SIZE instead
	of CPU_MINIMUM_STACK_FRAME_SIZE.

2005-02-12	Joel Sherrill <joel@OARcorp.com>

	* shared/pci/pci.h: Remove contents that are duplicates of the pci.h
	in cpukit and include rtems/pci.h for the base set of PCI
	functionality.

2005-01-22	Ralf Corsepius <ralf.corsepius@rtems.org>

	* shared/tod/todcfg.c: size_t RTC_Count.

2005-01-04	Joel Sherrill <joel@OARcorp.com>

	* shared/ChangeLog, shared/startup/bspstart.c, shared/tod/todcfg.c:
	Remove warnings.

2004-12-30	Ralf Corsepius <ralf.corsepius@rtems.org>

	* acinclude.m4: Reflect eth_comm having been removed.

2004-11-30	Greg Menke <gregory.menke@gsfc.nasa.gov>

	PR 729/bsps
	PR 728/bsps
	* shared/bootloader/ppcboot.lds: Modified ppcboot.lds to include new
	.data and .rodata sections being generated by gcc-3.3.3 and above,
	the lack of which was causing the bootloader to crash.
	* shared/bootloader/pci.c: Removed the r->size=0 and r->base=0
	assignement which makes too-large regions conflict with onboard
	hardware, replacing it with sfree which deletes the memory region
	from the setup code, leaving it disabled.

2004-11-30	Eric Norum <norume@aps.anl.gov>

	* mvme5500/include/bsp.h: Add definition for PCI_MEM_BASE_ADJUSTMENT

2004-10-26	Eric Norum <norume@aps.anl.gov>

	Remove environ common area -- it breaks newlib
	* powerpc/dmv177/start/start.S
	* powerpc/eth_comm/start/start.S
	* powerpc/mbx8xx/startup/start.S
	* powerpc/mvme5500/start/start.S
	* powerpc/ppcn_60x/start/start.S
	* powerpc/psim/start/start.S
	* powerpc/score603e/start/start.S
	* powerpc/shared/start/start.S
	* powerpc/ss555/startup/start.S

2004-10-20	Eric Norum <norume@aps.anl.gov>

	* configure.ac
	* mvme5500/.......
	* acinclude.m4: Add mvme5500 BSP

2004-09-27	Greg Menke <gregory.menke@gsfc.nasa.gov>

	PR 606/bsps
	* shared/bootloader/pci.c, shared/bootloader/pci.c: Fixed IO
	remapping so buses >= 1 are remapped. Reduced PCI space to match
	bat2.  Fixed incorrect region size calculation in pci_read_bases. 
	Set PCI latency timers to known sane values.  Changed bridge PCI
	settings to minimum sane instead of whatever sounded neat in the PCI
	spec.  Force pf regions to memory mapped to preserve byte access.

2004-09-24	Ralf Corsepius <ralf_corsepius@rtems.org>

	* configure.ac: Require automake > 1.9.

2004-04-13	Ralf Corsepius <ralf_corsepius@rtems.org>

	* acinclude.m4: Regenerate to include ss555.

2004-02-12	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: RTEMS_CHECK_BSPDIR([$RTEMS_BSP_FAMILY]).
	* acinclude.m4: Regenerate.

2004-02-03	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Reflect having removed shared/*/Makefile.am

2004-01-13	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Use @RTEMS_BSP_FAMILY@ instead of
	$(RTEMS_BSP_FAMILY).

2003-12-12	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Require automake >= 1.8, autoconf >= 2.59.

2003-12-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Misc cleanups and fixes.

2003-10-20	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* acinclude.m4: Reflect changes to bootstrap.

2003-08-18	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Reflect having moved aclocal/.

2003-08-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Reflect having moved automake/.

2003-08-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Use rtems-bugs@rtems.com as bug report email
	address.

2003-07-18	Till Straumann <strauman@slac.stanford.edu>

	PR 288/rtems
	* support/new_exception_processing/cpu.c: _ISR_Nest_level is now
	properly maintained and does not reside in SPRG0.

2003-07-16	Greg Menke <gregory.menke@gsfc.nasa.gov>

	PR 432/bsps
	* shared/bootloader/pci.c: Re-instated code that prevents remapping
	small IO regions, which if remapped would cause i8259 registers to
	move out from under the #define'd base addresses.
	* shared/startup/bspstart.c: Reduced BAT2 PCI memory allocation to
	256 megs, I incorrectly had extended it which would cause problems
	with PCI devices that defined prefetchable memory.

2003-06-13	Till Straumann <strauman@slac.stanford.edu>

	PR 415/bsps
	* shared/include/bsp.h, shared/pci/detect_raven_bridge.c,
	shared/startup/bspstart.c: Support enabling MCP exceptions on the
	host bridge. This can be used for memory probing on the VME bus.

2003-06-13	Greg Menke <gregory.menke@gsfc.nasa.gov>

	PR 405/bsps
	* shared/irq/irq.c, shared/irq/irq.h: Added support for shared
	interrupts. Existing single hander vectors are undisturbed, a new
	function added to allow adding/removing handlers from a vector.
	* shared/bootloader/pci.c: Added support for configuring devices for
	pci busses > 0
	* shared/motorola/motorola.c, shared/motorola/motorola.h: Added
	interrupt routing tables in support of FixupPCI.  This is
	board-specific, each board will have to supply information for
	FixupPCI() to do anything for it.
	* shared/startup/bspstart.c: Extended bat2 to cover entire PCI
	address space.
	* shared/pci/pci.c, shared/pci/pci.h: Added FixupPCI() to store
	vectors in the INTERRUPT_LINE register of pci devices any # of hops
	away from the host processor.

2003-04-15	Joel Sherrill <joel@OARcorp.com>

	PR 386/bsps
	* shared/vme/vmeconfig.c, shared/vme/vmeconfig.c: Removed
	declaration of _BSP_vme_bridge_irq.

2003-04-10	Till Straumann <strauman@slac.stanford.edu>

	PR 379/bsps
	* shared/console/console.c, shared/console/consoleIo.h,
	shared/console/polled_io.c, shared/irq/irq_init.c,
	shared/openpic/openpic.c, shared/pci/detect_raven_bridge.c:
	Unfortunately, the supported 'printk' format string subset of the
	polled-io and libcpu implementations are different - hence, a few
	format strings in the ppc/shared BSP were changed.
	* shared/console/uart.c, shared/console/uart.h:
	BSP_output_char_via_serial() prototype changed to match the
	BSP_output_char_function_type.  Note that the motorola BSPs use
	polled-io for the output_char routine, not the uart.c version. The
	latter can be used be other BSPs however (e.g. SVGM).
	* shared/console/polled_io.c: libcpu provides 'printk' already.
	Therefore, the implementation in this file was removed (still used
	for the bootloader, though).  It now provides BSP_output_char() for
	libcpu's printk().

2003-04-10	Joel Sherrill <joel@OARcorp.com>

	PR 383/bsps
	* shared/irq/irq.c: Fix bug introduced by conflicts in previous
	patches.

2003-03-25	Till Straumann <strauman@slac.stanford.edu>

	PR 360/bsps
	PR 349/bsps
	* shared/irq/irq.c, shared/vme/VME.h, shared/vme/vmeconfig.c,
	shared/irq/irq.c, shared/vme/VME.h, shared/vme/vmeconfig.c,
	shared/irq/irq.c, shared/vme/VME.h, shared/vme/vmeconfig.c: Fixes
	library dependency on the vmeUniverse driver. It is now possible to
	use the ppc/shared/irq code on non-VME BSPs without triggering
	linkage of the vmeUniverse driver.
	* shared/irq/irq.c, shared/irq/irq_init.c, shared/openpic/openpic.c,
	shared/openpic/openpic.h: BSP code had set the task priority
	register multiple times of the OpenPIC instead of setting the
	individual source priorities. This patch adds
	openpic_get_source_priority() and openpic_set_source_priority()
	calls and lets IRQ management code use them.

2003-03-18	Till Straumann <strauman@slac.stanford.edu>

	PR 356/bsps
	This patch makes RTEMS/powerpc/shared EABI compliant.
	* shared/irq/irq_init.c, shared/start/Makefile.am,
	shared/start/start.S, shared/startup/bspstart.c,
	shared/startup/pgtbl_setup.c, shared/vectors/vectors.h,
	shared/vectors/vectors_init.c: zero_bss() should clear not only bss
	but sbss and sbss2 also (this is probably a bugfix, as sbss/sbss2
	are probably used even if -msdata=eabi is not specified).
	* shared/start/rtems_crti.S: New file which must be linked
	immediately after ecrti.o. rtems_crti.o contains a code snippet who
	lets __init() return immediately. Also, a new entry point '_init' to
	the C++ Ctors is generated for use by the RTEMS Thread_Handler.

2003-03-06	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove AC_CONFIG_AUX_DIR.

2003-02-20	Till Straumann <strauman@slac.stanford.edu>

	PR 349/bsps
	* shared/console/console.c, shared/console/uart.c,
	shared/console/uart.h: implement IOCTLs for the serial (UART)
	console to install/retrieve a BREAK-IRQ callback.  The callback
	routine (if installed) is invoked from the UART ISR when a BREAK
	interrupt is detected.  This can be used e.g. to enforce a "hotkey"
	reboot a la vxWorks Ctrl-X (although we use the serial line break
	condition) NOTE: The callback runs in ISR context.
	* shared/startup/pgtbl_setup.c, shared/startup/pgtbl_activate.c: New
	files
	* shared/add BSP hook to let a VME interrupt acknowledge the
	PCI/openpic IRQ. (SEE ALSO THE ppc-sharedbsp-vme.diff patch) - fix:
	EABI compliance; isr/exception lowlevel handlers must not clobber R2
	or R13 - fix: openpic_init was called with the polarity/senses
	tables swapped (fixed wrong order of arguments) - cosmetics: use new
	_read_SPRXX() _write_SPRXX() macros
	* shared/fix: remove implicit assumption that ISA interrupt vectors
	start at 0
	* configure.ac, shared/vme/.cvsignore, shared/vme/Makefile.am,
	shared/vme/VME.h, shared/vme/VMEConfig.h, shared/vme/vmeconfig.c:
	Add glue to the powerpc/shared BSP to use the vmeUniverse VME-PCI
	bridge driver.
	* shared/console/polled_io.c, shared/console/reboot.c,
	shared/irq/irq.c, shared/irq/irq_asm.S, shared/irq/irq_init.c,
	shared/openpic/Makefile.am, shared/startup/linkcmds,
	shared/vectors/vectors.S, shared/vectors/vectors_init.c: - install
	the 'openpic.h' and 'pci.h' headers  - avoid a name clash by
	renaming 'vsprintf' & friends to 'k_vsprintf' etc. - let
	'rtemsReboot' print a stack trace (in case an 'assert' failed) -
	irq.c:
	* shared/startup/Makefile.am, shared/startup/bspstart.c,
	shared/startup/linkcmds: Let the powerpc/shared (+derived) BSPs use
	pagetable support from libcpu.

2003-02-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: AM_INIT_AUTOMAKE([1.7.2]).
	* configure.ac: AC_PREREQ(2.57).

2003-01-20	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/linkcmds*: Add FreeBSD sysctl() sections.

2002-12-19	Joel Sherrill <joel@OARcorp.com>

	* shared/console/console.c: Removed __assert() which conflicts with
	newlib.

2002-12-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove RTEMS_CHECK_CUSTOM_BSP.

2002-12-08	Greg Menke <gregory.menke@gsfc.nasa.gov>

	* shared/bootloader/head.S: Added support for optional debug via
	PPCbug. Also turn off mmu/caches for the bootstrap phase, which
	seems to cause trouble with the 603.  The cpu init functions in the
	bsp get all that stuff going properly.

2002-12-06	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove RTEMS_CHECK_BSP_CACHE.

2002-11-17	Greg Menke <gregory.menke@gsfc.nasa.gov>

	* shared/irq/irq_init.c, shared/motorola/motorola.c: Support for
	MTX603e.

2002-10-31	Joel Sherrill <joel@OARcorp.com>

	* shared/bootloader/em86.c, shared/console/inch.c,
	shared/console/polled_io.c, shared/irq/irq.c,
	shared/motorola/motorola.c, shared/pci/detect_raven_bridge.c,
	shared/vectors/vectors_init.c: Removed warnings.

2002-10-21	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* .cvsignore: Reformat. Add autom4te*cache. Remove autom4te.cache.

2002-07-25	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/bootloader/em86real.S: Fix syntax error in comment near
	line 1185.

2002-04-18	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/irq/irq_init.c: Include <rtems/bspIo.h>.
	* shared/bootloader/exception.S, shared/start/start.S: Reflect
	changes to <rtems/score/cpu.h>.
	* shared/bootloader/head.S, shared/bootloader/misc.c,
	shared/console/polled_io.c, shared/irq/irq.c, shared/irq/irq_asm.S,
	shared/vectors/vectors.S: Ditto.

2002-04-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/startup/bspstart.c: Include <libcpu/cpuIdent.h>.

2002-04-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/residual/residual.c: Include <string.h>.
	* shared/vectors/vectors_init.c: Include <rtems/bspIo.h> for printk.
	* shared/bootloader/mm.c, shared/bootloader/pci.c,
	shared/console/console.c, shared/openpic/openpic.c: Ditto.

2002-03-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am, shared/bootloader/Makefile.am, shared/Makefile.am,
	shared/clock/Makefile.am, shared/console/Makefile.am,
	shared/include/Makefile.am, shared/irq/Makefile.am,
	shared/motorola/Makefile.am, shared/openpic/Makefile.am,
	shared/pci/Makefile.am, shared/residual/Makefile.am,
	shared/start/Makefile.am, shared/startup/Makefile.am,
	shared/vectors/Makefile.am: Remove AUTOMAKE_OPTIONS.
	* configure.ac: AC_INIT(package,_RTEMS_VERSION,_RTEMS_BUGS).
	AM_INIT_AUTOMAKE([no-define foreign 1.6]).

2001-11-28	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/include/Makefile.am: Use _HEADER instead of H_FILES.
	* Makefile.am: Add DIST_SUBDIRS.
	* shared/include/bsp.h: Include <bspopts.h>.
	* shared/irq/Makefile.am, shared/openpic/Makefile.am: Ditto.

2001-11-20	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* support/new_exception_processing/Makefile.am,
	support/old_exception_processing/Makefile.am,
	support/old_exception_processing/cpu_asm.S,
	support/old_exception_processing/irq_stub.S: Modified to reflect old
	versus new exception processing being a per BSP option.
	* support/new_exception_processing/c_isr.inl,
	support/new_exception_processing/cpu.h,
	support/old_exception_processing/c_isr.inl,
	support/old_exception_processing/cpu.h,
	support/old_exception_processing/ppc_offs.h: Removed.

2001-11-20	Joel Sherrill <joel@OARcorp.com>

	* support/new_exception_processing/configure.ac,
	support/new_exception_processing/rtems/score/c_isr.inl,
	support/new_exception_processing/rtems/score/cpu.h,
	support/old_exception_processing/configure.ac,
	support/old_exception_processing/rtems/score/c_isr.inl,
	support/old_exception_processing/rtems/score/cpu.h,
	support/old_exception_processing/rtems/score/ppc_offs.h: New files
	missed in previous commit.
	* papyrus/.cvsignore, papyrus/ChangeLog, papyrus/Makefile.am,
	papyrus/README, papyrus/bsp_specs, papyrus/configure.ac,
	papyrus/times, papyrus/dlentry/.cvsignore,
	papyrus/dlentry/Makefile.am, papyrus/dlentry/dlentry.S,
	papyrus/flashentry/.cvsignore, papyrus/flashentry/Makefile.am,
	papyrus/flashentry/flashentry.S, papyrus/include/.cvsignore,
	papyrus/include/Makefile.am, papyrus/include/bsp.h,
	papyrus/include/coverhd.h, papyrus/startup/.cvsignore,
	papyrus/startup/Makefile.am, papyrus/startup/bspclean.c,
	papyrus/startup/bspstart.c, papyrus/startup/linkcmds,
	papyrus/startup/setvec.c, papyrus/wrapup/.cvsignore,
	papyrus/wrapup/Makefile.am: Deleted.
	* acinclude.m4: papyrus reference removed.

2001-11-08	Dennis Ehlin (ECS) <Dennis.Ehlin@ecs.ericsson.se>

	This modification is part of the submitted modifications necessary
	to
	support the IBM PPC405 family.  This submission was reviewed by
	Thomas Doerfler <Thomas.Doerfler@imd-systems.de> who ensured it did
	not negatively impact the ppc403 BSPs.  The submission and tracking
	process was captured as PR50.
	* ChangeLog: Removed bogus comment on edit of generated file.
	* acinclude.m4: Added gen405 BSP.

2001-10-25	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/linkcmds: Added _init and _fini.

2001-10-22	Joel Sherrill <joel@OARcorp.com>

	* acinclude.m4: Added mpc8260ads subdirectory.

2001-10-12	Joel Sherrill <joel@OARcorp.com>

	* shared/clock/p_clock.c, shared/startup/bspstart.c: Fixed typo.

2001-10-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* .cvsignore: Add autom4te.cache for autoconf > 2.52.
	* configure.ac: New file, generated from configure.in by autoupdate.
	* configure.in: Remove.

2001-10-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* acinclude.m4: New file.
	* configure.in: Use RTEMS_BSP_SUBDIR.

2001-09-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* shared/console/Makefile.am, shared/residual/Makefile.am,
	shared/irq/Makefile.am, shared/motorola/Makefile.am,
	shared/vectors/Makefile.am, shared/pci/Makefile.am,
	shared/openpic/Makefile.am: Use 'PREINSTALL_FILES ='.

2001-05-14	Tom Armistead <tom_armistead@phx.mcd.mot.com>

	* shared/start/start.S: Increased BAT0 mapping of RAM from 64 meg to
	256 meg to allow operation on boards with larger RAM sizes.
	* shared/vectors/vectors_init.c: Modified to call 'generic' powerpc
	vector function (mpc60x_vector_is_valid) instead of MPC750  specific
	function to allow operation on boards with CPUs other than the
	MPC750.

2001-05-14	Till Straumann <strauman@slac.stanford.edu>

	* shared/bootloader/misc.c, shared/console/Makefile.am,
	shared/console/console.c, shared/console/consoleIo.h,
	shared/console/inch.c, shared/console/polled_io.c,
	shared/console/uart.c, shared/console/uart.h, shared/include/bsp.h,
	shared/irq/Makefile.am, shared/irq/irq.c, shared/irq/irq.h,
	shared/irq/irq_init.c, shared/openpic/openpic.c,
	shared/openpic/openpic.h, shared/pci/Makefile.am, shared/pci/pci.c,
	shared/pci/pci.h, shared/residual/Makefile.am, shared/start/start.S,
	shared/startup/bspstart.c, shared/vectors/vectors.S,
	shared/vectors/vectors.h, shared/vectors/vectors_init.c: Per PR216,
	"libbsp/powerpc/shared" BSP has been modified considerably with the
	goal to make it more flexible and reusable by other BSPs. The main
	strategies were: - eliminate hardcoded base addresses; devices use
	offsets and a BSP defined base address. - separate functionality
	into different files (e.g. reboot from inch.c to reboot.c) which can
	be overridden by a 'derived' BSP. - separate initialization code
	into separate files (e.g.  PCI bridge detection/initialization was
	separated from the more generic PCI access routines), also to make
	it easier for 'derived' BSPs to substitute their own initialization
	code. There are also a couple of enhancements and fixes: - IRQ
	handling code now has a hook for attaching a VME bridge. - OpenPIC
	is now explicitely initialized (polarities, senses). Eliminated the
	implicit assumption on the presence of an ISA PIC. - UART and
	console driver now supports more than 1 port. The current maximum of
	2 can easily be extended by enlarging a table (it would even be
	easier if the ISR API was not broken by design). - fixed polled_io.c
	so it correctly supports console on COM2 - fixed TLB invalidation
	code (start.S). - exception handler prints a stack backtrace. -
	added BSP_pciFindDevice() to scan the pci bus for a particular
	vendor/device/instance.

2001-05-09	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/linkcmds: In support of gcc 3.1, added one of more
	of the sections .jcr, .rodata*, .data.*, .gnu.linkonce.s2.*,
	.gnu.linkonce.sb2.*, and .gnu.linkonce.s.*.  Spacing corrections and
	direction of segments to memory regions may also have been
	addressed.  This was a sweep across all BSPs.

2001-04-08	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/linkcmds: Per PR170, PR171, and PR172 add .eh_frame

2001-03-30	Eric Valette <valette@crf.canon.fr>

	* shared/Makefile.am, shared/console/consoleIo.h,
	shared/include/bsp.h: These modifications are part of the conversion
	of the mpc8xx CPU to the "new exception processing model."
	* configure.in, motorola_powerpc/Makefile.am,
	motorola_powerpc/configure.in: These modifications are in support of
	switching the mpc8xx to the use the "new exception processing
	model."

2000-11-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Use ... instead of RTEMS_TOPdir in ACLOCAL_AMFLAGS.

2000-11-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Switch to ACLOCAL_AMFLAGS = -I
	$(RTEMS_TOPdir)/aclocal.

2000-11-01	Joel Sherrill <joel@OARcorp.com>

	* shared/startup/bspstart.c: assoc.h, error.h, libio_.h, libio.h,
	and libcsupport.h moved from libc to lib/include/rtems and now must
	be referenced as <rtems/XXX.h>.   Header file order was cleaned up
	while doing this.

2000-10-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: ACLOCAL_AMFLAGS= -I $(RTEMS_TOPdir)/macros. Switch to
	GNU canonicalization.

2000-09-29	Charles-Antoine Gauthier <charles.gauthier@nrc.ca>

	* shared/startup/linkcmds: Added lines so DWARF debug information
	would be available.  Otherwise gdb complains that the offsets for
	the debug info are incorrect and doesn't load the files.

2000-09-05	Joel Sherrill <joel@OARcorp.com>

	* shared/start/start.S: Include proper files to compile.

2000-08-10	Joel Sherrill <joel@OARcorp.com>

	* ChangeLog, shared/ChangeLog: New file.

